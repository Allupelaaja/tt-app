(this["webpackJsonptt-app"]=this["webpackJsonptt-app"]||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),c=n(16),s=n.n(c),o=n(50),j=n.n(o),l=n(69),u=n(71),d=n(70),p=n(87),b=n(95),h=n(165),m=n(152),x=n(159),O=n(160),f=n(164),g=n(156),v=n(155),y=n(157),w=n(158),L=n(161),C=n(162),F=n(163),T=n(65),k=n(45),A=n(10),S=new k.ApolloClient({uri:"https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql",cache:new k.InMemoryCache}),I=Object(k.gql)(r||(r=Object(p.a)(["\n  query Route($fromLat: Float!, $fromLon: Float!) {\n    plan(\n      from: {lat: $fromLat, lon: $fromLon}\n      to: {lat: 60.16736926540844, lon: 24.921782530681504}\n      numItineraries: 3\n    ) {\n      itineraries {\n        legs {\n          startTime\n          endTime\n          mode\n          duration\n          realTime\n          distance\n          transitLeg\n        }\n      }\n    }\n  }"]))),P=i.a.forwardRef((function(e,t){var n=Object(b.a)({palette:{type:"dark"}});n=Object(h.a)(n);var r=Object(m.a)((function(e){var t;return{root:{flexGrow:1},title:{flexGrow:1,textAlign:"center"},mainContent:(t={},Object(d.a)(t,e.breakpoints.up("sm"),{width:"75%",margin:"0 auto",padding:"30px"}),Object(d.a)(t,"textAlign","center"),t)}}))(),c=Object(a.useState)(""),s=Object(u.a)(c,2),o=s[0],p=s[1];function P(){var e=Object(k.useLazyQuery)(I),t=Object(u.a)(e,2),n=t[0],r=t[1],a=r.loading,c=r.error,s=r.data;if(a)return Object(A.jsx)("p",{children:"Loading..."});if(c)return Object(A.jsx)("p",{children:"Error :("});function d(){return(d=Object(l.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:t=e.sent,r=t.features[0].geometry.coordinates,n({variables:{fromLat:r[1],fromLon:r[0]}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(A.jsxs)("div",{children:[Object(A.jsx)(f.a,{autoFocus:!0,margin:"dense",type:"string",id:"form-name",label:"Starting address",value:o,onChange:function(e){return p(e.target.value)},inputProps:{maxLength:100}}),Object(A.jsx)("br",{}),Object(A.jsx)(g.a,{onClick:function(){return function(){return d.apply(this,arguments)}()},children:"Get routes"}),Object(A.jsx)("br",{}),Object(A.jsx)(v.a,{children:s&&s.plan.itineraries.map((function(e,t){return Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{children:"Itinerary"}),e.legs.map((function(e,t){return Object(A.jsx)("div",{children:Object(A.jsx)(y.a,{children:Object(A.jsx)(w.a,{primary:e.mode,secondary:Object(A.jsxs)(i.a.Fragment,{children:["Leg start time:",new Date(e.startTime).toString(),Object(A.jsx)("br",{}),"Leg end time: ",new Date(e.endTime).toString()]})})})},t)}))]},t)}))})]})}function $(){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.digitransit.fi/geocoding/v1/search?text="+o+"&size=1");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(A.jsx)(k.ApolloProvider,{client:S,children:Object(A.jsxs)(x.a,{theme:n,children:[Object(A.jsx)(O.a,{}),Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)(L.a,{position:"static",children:Object(A.jsx)(C.a,{children:Object(A.jsx)(T.a,{variant:"h4",className:r.title,children:"Timetables App"})})}),Object(A.jsx)("main",{children:Object(A.jsx)(F.a,{className:r.mainContent,children:Object(A.jsx)("div",{children:Object(A.jsx)(P,{})})})})]})]})})})),$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};s.a.render(Object(A.jsx)(i.a.StrictMode,{children:Object(A.jsx)(P,{})}),document.getElementById("root")),$()}},[[120,1,2]]]);
//# sourceMappingURL=main.99943e28.chunk.js.map