(this["webpackJsonptt-app"]=this["webpackJsonptt-app"]||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),c=n(17),s=n.n(c),o=n(58),j=n.n(o),l=n(81),u=n(82),b=n(53),d=n(104),O=n(114),p=n(189),h=n(172),x=n(181),f=n(182),m=n(186),g=n(176),v=n(175),y=n(177),w=n(178),C=n(188),L=n(179),k=n(180),F=n(183),S=n(184),T=n(185),A=n(59),R=n(112),I=n.n(R),P=n(113),$=n.n(P),q=n(52),D=n(9),G=new q.ApolloClient({uri:"https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql",cache:new q.InMemoryCache}),N=Object(q.gql)(r||(r=Object(d.a)(["\n  query Route($fromLat: Float!, $fromLon: Float!) {\n    plan(\n      from: {lat: $fromLat, lon: $fromLon}\n      to: {lat: 60.16736926540844, lon: 24.921782530681504}\n      numItineraries: 3\n    ) {\n      itineraries {\n        legs {\n          startTime\n          endTime\n          mode\n          duration\n          realTime\n          distance\n          transitLeg\n        }\n      }\n    }\n  }"]))),z=i.a.forwardRef((function(e,t){var n=Object(a.useState)("light"),r=Object(b.a)(n,2),c=r[0],s=r[1],o=Object(O.a)({palette:{type:c}});o=Object(p.a)(o);var d=Object(h.a)((function(e){var t;return{root:{flexGrow:1},title:{flexGrow:1,textAlign:"center"},mainContent:(t={},Object(u.a)(t,e.breakpoints.up("sm"),{width:"75%",margin:"0 auto",padding:"30px"}),Object(u.a)(t,"textAlign","center"),t)}}))(),R=Object(a.useState)(""),P=Object(b.a)(R,2),z=P[0],B=P[1],E=Object(a.useState)(!1),J=Object(b.a)(E,2),M=J[0],Q=J[1],H=Object(a.useState)(null),K=Object(b.a)(H,2),U=K[0],V=K[1];function W(){var e=Object(q.useLazyQuery)(N),t=Object(b.a)(e,2),n=t[0],r=t[1],a=r.loading,i=r.error,c=r.data;if(a)return Object(D.jsx)("p",{children:"Loading..."});if(i)return Object(D.jsx)("p",{children:"Error :("});function s(){return(s=Object(l.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:t=e.sent,r=t.features[0].geometry.coordinates,n({variables:{fromLat:r[1],fromLon:r[0]}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(D.jsxs)("div",{children:[Object(D.jsx)(m.a,{autoFocus:!0,margin:"dense",type:"string",id:"form-name",label:"Starting address",value:z,onChange:function(e){return B(e.target.value)},inputProps:{maxLength:100}}),Object(D.jsx)("br",{}),Object(D.jsx)(g.a,{onClick:function(){return function(){return s.apply(this,arguments)}()},children:"Get routes"}),Object(D.jsx)("br",{}),Object(D.jsx)(v.a,{children:c&&c.plan.itineraries.map((function(e,t){return Object(D.jsx)("div",{children:Object(D.jsx)(y.a,{button:!0,onClick:function(t){return function(e,t){V(t),Q(!0)}(0,e)},children:Object(D.jsx)(w.a,{primary:"Route "+(t+1)})})},t)}))})]})}function X(){return Object(D.jsxs)(C.a,{onClose:Y,"aria-labelledby":"simple-dialog-title",open:M,children:[Object(D.jsx)(L.a,{id:"simple-dialog-title",children:Object(D.jsx)(A.a,{children:"Route info"})}),Object(D.jsx)(k.a,{children:U?U.legs.map((function(e,t){return Object(D.jsx)("div",{children:Object(D.jsx)(y.a,{children:Object(D.jsx)(w.a,{primary:"Route "+(t+1),secondary:Object(D.jsxs)(i.a.Fragment,{children:["Leg start time:",new Date(e.startTime).toString(),Object(D.jsx)("br",{}),"Leg end time: ",new Date(e.endTime).toString()]})})})},t)})):Object(D.jsx)(D.Fragment,{})})]})}var Y=function(){Q(!1)};function Z(){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.digitransit.fi/geocoding/v1/search?text="+z+"&size=1");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(D.jsx)(q.ApolloProvider,{client:G,children:Object(D.jsxs)(x.a,{theme:o,children:[Object(D.jsx)(f.a,{}),Object(D.jsxs)("div",{className:"App",children:[Object(D.jsx)(F.a,{position:"static",children:Object(D.jsxs)(S.a,{children:[Object(D.jsx)(A.a,{variant:"h4",className:d.title,children:"Timetables App"}),"light"===c?Object(D.jsx)(g.a,{onClick:function(){return s("dark")},children:Object(D.jsx)(I.a,{})}):Object(D.jsx)(g.a,{onClick:function(){return s("light")},children:Object(D.jsx)($.a,{})})]})}),Object(D.jsx)("main",{children:Object(D.jsx)(T.a,{className:d.mainContent,children:Object(D.jsxs)("div",{children:[Object(D.jsx)(X,{open:M,onClose:Y}),Object(D.jsx)(W,{})]})})})]})]})})})),B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};s.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(z,{})}),document.getElementById("root")),B()}},[[141,1,2]]]);
//# sourceMappingURL=main.7298154d.chunk.js.map